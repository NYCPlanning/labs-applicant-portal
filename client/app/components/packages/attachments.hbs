<div class="site-main grid-x grid-margin-x">
  <div class="cell">
    <fieldset class="fieldset">
      <legend>
        <b>
          Attachments
        </b>
      </legend>

      <ul class="no-bullet">  
        {{#each @fileManager.existingFiles as |file idx|}}
          <li
          class="text-justify"
          >
          <div class="grid-x">
            <div class="cell small-8">
              <a
                href="#"
                data-test-document-name={{idx}}
              >
                {{file.name}}
              </a>
            </div>
            <div class="cell small-3 text-right">
              <small>
                {{file.timeCreated}}
              </small>
            </div>
            <div class="cell small-1 text-right">
              <button
                type="button"
                {{on "click" (fn this.markFileForDeletion file)}}
                data-test-delete-file-button={{idx}}
              >
                <FaIcon @icon="times" @prefix="fas" class="text-red" />
              </button>
            </div>
          </div>
          </li>
        {{/each}}
      </ul>
      <hr>
      <ul class="no-bullet">
        {{#each @fileManager.filesToDelete as |file idx|}}
          <li
            class="text-justify"
          >
          <div class="grid-x">
            <div class="cell small-8">
              <b
                data-test-document-to-be-deleted-name={{idx}}
              >
                {{file.name}}
              </b>
            </div>
            <div class="cell small-3 text-right">
              <small>
                TO BE DELETED
              </small>
            </div>
            <div class="cell small-1 text-right">
              <button
                type="button"
                {{on "click" (fn this.unmarkFileForDeletion file)}}
                data-test-undo-delete-file-button={{idx}}
              >
                <FaIcon @icon="undo" @prefix="fas" />
              </button>
            </div>
          </div>
          </li>
        {{/each}}
      </ul>
      <ul class="no-bullet">
        {{#each @fileManager.filesToUpload.files as |file idx|}}
          <li
            class="text-justify"
          >
          <div class="grid-x">
            <div class="cell small-8">
              <b
                data-test-document-to-be-uploaded-name={{idx}}
              >
                {{file.name}}
              </b>
            </div>
            <div class="cell small-3 text-right">
              <small>
                TO BE ADDED
              </small>
            </div>
            <div class="cell small-1 text-right">
              <button
                 {{on "click" (fn this.deselectFileForUpload file)}}
                data-test-deselect-file-button={{idx}}
                type="button"
              >
                <FaIcon @icon="times" @prefix="fas" class="text-red" />
              </button>
            </div>
          </div>
          </li>
        {{/each}}
      </ul>
      <div class="cell large-auto">
        <FileUpload
          id={{concat "FileUploader" @package.id}}
          @name={{@package.id}}
          @accept='*/*'
          @multiple={{true}}
          class="button secondary expanded"
        >
          <FaIcon @icon="upload" @prefix="fas" />
          Choose Files
        </FileUpload>
      </div>
    </fieldset>
  </div>
</div>
