{{#let @form as |Form|}}
  <Form.Section @title="Proposed Development Site">
    <p class="text-small">
      <b>Development Site</b> refers to all property to be developed as part of the applicant’s specific proposal which the land use actions would facilitate. Typically, the Development Site and the Project Area will comprise the same property(ies) unless the application is requesting a zoning map amendment covering an area greater than an applicant’s property to be developed or a large-scale special approval involving multiple tax lots. In these cases, the Development Site may be one or several tax lots within a broader Project Area.
    </p>

    <Ui::Question as |Q|>
      <Q.Prompt>
        In what year do you expect the development to complete?
      </Q.Prompt>
      <Form.Field
        @attribute="dcpEstimatedcompletiondate"
        @maxlength="4"
      />
      {{!-- QUESTION: Should this be a date picker? --}}
    </Ui::Question>

    <Ui::Question @fieldset={{true}} as |Q|>
      <Q.Prompt>
        What type of development is proposed?
        <small class="text-weight-normal">(select all that apply)</small>
      </Q.Prompt>

      <ul class="no-bullet no-margin">
        {{#each (array
          (hash attr="dcpProposeddevelopmentsitenewconstruction" label="Newly constructed buildings")
          (hash attr="dcpProposeddevelopmentsitedemolition" label="Demolition")
          (hash attr="dcpProposeddevelopmentsiteinfoalteration" label="Alteration")
          (hash attr="dcpProposeddevelopmentsiteinfoaddition" label="Addition")
          (hash attr="dcpProposeddevelopmentsitechnageofuse" label="Change of use")
          (hash attr="dcpProposeddevelopmentsiteenlargement" label="Enlargement")) as |developmentType|
        }}
          <li>
            <Form.Field
              @attribute={{developmentType.attr}}
              @type="checkbox"
              as |Checkbox|
            >
              <Checkbox>
                {{developmentType.label}}
              </Checkbox>
            </Form.Field>
          </li>
        {{/each}}
        <li>
          <Form.Field
            @attribute="dcpProposeddevelopmentsiteinfoother"
            @type="checkbox"
            as |Checkbox|
          >
            <Checkbox
              {{on "click" (fn (mut @form.saveableChanges.dcpProposeddevelopmentsiteotherexplanation) "")}}
            >
              Other&hellip;
            </Checkbox>
          </Form.Field>
        </li>
      </ul>
      {{#if @form.saveableChanges.dcpProposeddevelopmentsiteinfoother}}
        <Ui::Question as |Q|>
          <Q.Prompt>
            Explain:
            <Ui::RequiredAsterisk />
          </Q.Prompt>
          <Form.Field @attribute="dcpProposeddevelopmentsiteotherexplanation"/>
        </Ui::Question>
      {{/if}}
    </Ui::Question>

    <Ui::Question @fieldset={{true}} as |Q|>
      <Q.Prompt>
        Is the Development Site in an
        <Ui::ExternalLink @href="https://zola.planning.nyc.gov/">Inclusionary Housing Designated Area/Mandatory Inclusionary Housing Area</Ui::ExternalLink>?
        <Ui::RequiredAsterisk />
      </Q.Prompt>

      <p class="text-small">
        Refer to <Ui::ExternalLink @href="https://zr.planning.nyc.gov/appendix-f-inclusionary-housing-designated-areas-and-mandatory-inclusionary-housing-areas">Appendix F</Ui::ExternalLink> of the Zoning Resolution for full list of all inclusionary housing areas which are areas that incentivize or require affordable housing in certain areas.
      </p>

      <Form.Field
        @attribute="dcpIsinclusionaryhousingdesignatedarea"
        @type="radio-group" as |RadioGroup|
      >
        <RadioGroup
          @options={{array
            (hash code=true label='Yes')
            (hash code=false label='No')
          }}
          @onChange={{fn (mut @form.saveableChanges.dcpInclusionaryhousingdesignatedareaname) ""}} as |value|
        >
          {{#if value}}
            <Ui::Question as |Q|>
              <Q.Prompt>
                Name of Inclusionary Housing Designated Area/Mandatory Inclusionary Housing Area
              </Q.Prompt>
              <Form.Field @attribute="dcpInclusionaryhousingdesignatedareaname"/>
            </Ui::Question>
          {{/if}}
        </RadioGroup>
      </Form.Field>
    </Ui::Question>

    <Ui::Question @fieldset={{true}} as |Q|>
      <Q.Prompt>
        Does the proposed development involve discretionary funding for Affordable Housing Units?
        <Ui::RequiredAsterisk />
      </Q.Prompt>

      <Form.Field
        @attribute="dcpDiscressionaryfundingforffordablehousing"
        @type="radio-group" as |RadioGroup|
      >
        <RadioGroup
          @options={{array
            (hash code=717170000 label='Yes')
            (hash code=717170001 label='No')
            (hash code=717170002 label='Unsure at this time')
          }}
          @onChange={{fn (mut @form.saveableChanges.dcpHousingunittype) ""}} as |value|
        >
          {{#if (eq value 717170000)}}
            <Ui::Question @fieldset={{true}} as |Q|>
              <Q.Prompt>
                Funding source
              </Q.Prompt>

              <Form.Field
                @attribute="dcpHousingunittype"
                @type="radio-group" as |RadioGroup|
              >
                <RadioGroup
                  @options={{array
                    (hash code=717170000 label='City')
                    (hash code=717170001 label='State')
                    (hash code=717170002 label='Federal')
                    (hash code=717170003 label='Other')
                  }}
                />
              </Form.Field>
            </Ui::Question>
          {{/if}}
        </RadioGroup>
      </Form.Field>
    </Ui::Question>
  </Form.Section>
{{/let}}
