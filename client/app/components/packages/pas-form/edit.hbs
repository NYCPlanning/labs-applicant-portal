<SaveableForm
  @model={{this.pasForm}}
  @validators={{array this.validations.SaveablePasFormValidations this.validations.SubmittablePasFormValidations}}
  as |pasForm|
>

  <div class="grid-x grid-margin-x">

    <div class="cell large-8">
      <section class="form-section">
        <h1>
          Pre-Application Statement
        </h1>

        <p>
          The <strong>Pre-Application Statement</strong> requests pertinent information about a site and proposed project. By
          submitting the PAS, a prospective applicant acknowledges that they intend to file a land use application with NYC
          Planning. Submission allows staff to be assigned from appropriate divisions and project tracking to commence.
        </p>

        <p>
          NYC Planning understands that some projects may not be fully formed at the submission of the PAS. Give as much
          detailed information as possible. Failure to provide detailed, relevant information will result in the PAS being
          rejected.
        </p>
      </section>

      <section class="form-section">
        <h2 class="section-header">
          <span id="project-info" class="section-anchor"></span>
          Project Information
        </h2>

        <label>
          <strong>Project Name</strong>
          <TextInput
            @property={{pasForm.saveableChanges.dcpRevisedprojectname}}
            @propertyName="dcpRevisedprojectname"
            @changesetError={{pasForm.submittableChanges.error.dcpRevisedprojectname}}
          />
        </label>
      </section>

      <section class="form-section">
        <h2 class="section-header">
          <span id="applicant-team" class="section-anchor"></span>
          Applicant Team
        </h2>

          <p>
            Add all applicants (either individuals or organizations) and other team members (including land use consultants and environmental consultants, agency staff, etc.).
          </p>

          <Packages::ApplicantTeamEditor
            @addApplicant={{fn this.addApplicant}}
            as |ApplicantFieldset|
          >
            <ul class="no-bullet">
              {{#each (filter-by 'isDeleted' false pasForm.saveableChanges.applicants) as |applicant applicantIndex|}}
                <li class="scale-fade-in">
                  <pasForm.SaveableForm
                    @model={{applicant}}
                    @validators={{array this.validations.SaveableApplicantFormValidations this.validations.SubmittableApplicantFormValidations}}
                    as |applicantForm|
                  >
                    <ApplicantFieldset
                      @applicant={{applicantForm.saveableChanges}}
                      @parentForm={{applicantForm}}
                      @removeApplicant={{fn this.removeApplicant applicant}}
                      data-test-applicant-fieldset={{applicantIndex}}
                      data-test-applicant-type={{applicant.friendlyEntityName}}
                    />
                  </pasForm.SaveableForm>
                </li>
              {{/each}}
            </ul>
          </Packages::ApplicantTeamEditor>
        </section>

        <section class="form-section">
          <h2 class="section-header">
            <span id="project-geography" class="section-anchor"></span>
            Project Geography
          </h2>

          <p>
            Please identify the tax lots that are included in the proposed project area and/or development site.
            If the project geography is irregular, especially large, or does not consist of tax lots, please describe it below.
          </p>

          <p class="text-small">
            NYC Planning's <a href="https://lotselector.planning.nyc.gov/" target="_blank" rel="noopener noreferrer">Tax Lot Selector<sup><FaIcon @icon="external-link-alt" @prefix="fas" @fixedWidth={{true}} /></sup></a> is a helpful tool for identifying and selecting tax lot BBL numbers within a project area. If your project is very large, you can download the BBLs from the Tax Lot Selector app using the "Paperless Filing" option and upload that file to this form as an attachment.
          </p>

          <div data-test-section="project-geography">
            <ProjectGeography
              @bbls={{this.pasForm.bbls}}
              @project={{this.package.project}}
            />
          </div>

          <label>
            <strong>Description of geography</strong>
            <small class="help-text display-block">
              Fill in if the project area and/or development site is irregular, especially large, or does not consist of tax lots.
            </small>
             <TextArea
                @property={{pasForm.saveableChanges.dcpDescriptionofprojectareageography}}
                @propertyName="dcpDescriptionofprojectareageography"
                @changesetError={{pasForm.submittableChanges.error.dcpDescriptionofprojectareageography}}
              />
          </label>
        </section>

        <section class="form-section">
          <h2 class="section-header">
            <span id="proposed-land-use-actions" class="section-anchor"></span>
            Proposed Land Use Actions
          </h2>

          <p>
            What land use actions does the proposed project require? Identify all that apply and fill in the appropriate related information.
          </p>

          <p class="text-small">
            Note: This is preliminary information and may change following discussion with NYC Planning.
          </p>
          <LandUseAction
            @pasForm={{pasForm.saveableChanges}}
            @submittableChanges={{pasForm.submittableChanges}}
          />
        </section>

        <section class="form-section">
          <h2 class="section-header">
            <span id="project-area" class="section-anchor"></span>
            Project Area
          </h2>

          <p>
            Project Area refers to all property that would be subject to the proposed actions.
          </p>

          <fieldset class="medium-margin-bottom">
            <legend>
              <strong>Does the proposed Project, or portion thereof, require a NYC DEP Storm Water Construction Permit?</strong>
            </legend>
            {{#each (array
              (hash code=717170000 label='Yes')
              (hash code=717170001 label='No')
              (hash code=717170002 label='Unsure at this time')) as |radio|
            }}
              <pasForm.radio
                @value={{radio.code}}
                @groupValue={{pasForm.saveableChanges.dcpProposedprojectorportionconstruction}}
                data-test-radio="dcpProposedprojectorportionconstruction"
                data-test-radio-option={{radio.label}}
              >
                {{radio.label}}
              </pasForm.radio>
            {{/each}}
          </fieldset>

          <fieldset class="medium-margin-bottom">
            <legend>
              <strong>Is the proposed Project Area located in a current or former <a href="https://www1.nyc.gov/site/hpd/services-and-information/urban-renewal.page" target="_blank" rel="noopener noreferrer">Urban Renewal Area<sup><FaIcon @icon="external-link-alt" @prefix="fas" @fixedWidth={{true}} /></sup></a>?</strong>
            </legend>

            {{#each (array
              (hash code=717170000 label='Yes')
              (hash code=717170001 label='No')
              (hash code=717170002 label='Unsure at this time')) as |radio|
            }}
              <pasForm.radio
                @value={{radio.code}}
                @groupValue={{pasForm.saveableChanges.dcpUrbanrenewalarea}}
                @changed={{fn (mut pasForm.saveableChanges.dcpUrbanareaname) ""}}
                 data-test-radio="dcpUrbanrenewalarea"
                 data-test-radio-option={{radio.label}}
              >
                {{radio.label}}
              </pasForm.radio>
            {{/each}}

            {{#if (eq pasForm.saveableChanges.dcpUrbanrenewalarea 717170000)}}
              <label>
                What is the name of the Urban Renewal Area?
                <TextInput
                  @property={{pasForm.saveableChanges.dcpUrbanareaname}}
                  @propertyName="dcpUrbanareaname"
                  @changesetError={{pasForm.submittableChanges.error.dcpUrbanareaname}}
                  @showCounter={{true}}
                />
              </label>
            {{/if}}
          </fieldset>

          <fieldset class="medium-margin-bottom">
            <legend>
              <strong>What is the <a href="https://streets.planning.nyc.gov/about" target="_blank" rel="noopener noreferrer">Legal Street Frontage Status in the Project Area<sup><FaIcon @icon="external-link-alt" @prefix="fas" @fixedWidth={{true}} /></sup></a>?</strong>
            </legend>
            {{#each (array
                (hash code=717170000 label='Mapped and Built')
                (hash code=717170001 label='Private Road')
                (hash code=717170002 label='Record Street')
                (hash code=717170003 label='Corporation Counsel Opinion')
                (hash code=717170004 label='Mapped but not Built')) as |radio|
            }}
              <span class="nowrap">
                <pasForm.radio
                  @value={{radio.code}}
                  @groupValue={{pasForm.saveableChanges.dcpLegalstreetfrontage}}
                  data-test-radio="dcpLegalstreetfrontage"
                  data-test-radio-option={{radio.label}}
                >
                  {{radio.label}}
                </pasForm.radio>
              </span>
            {{/each}}
          </fieldset>

          <fieldset class="medium-margin-bottom">
            <legend>
              <strong>Do all land use actions meet&nbsp;
                <a
                  href="https://govt.westlaw.com/nycrr/Document/I4ec3a767cd1711dda432a117e6e0f345?viewType=FullText&originationContext=documenttoc&transitionType=CategoryPageItem&contextData=(sc.Default)"
                  target="_blank"
                  rel="noopener noreferrer">
                  SEQRA or CEQR criteria<sup><FaIcon @icon="external-link-alt" @prefix="fas" @fixedWidth={{true}} /></sup>
                </a>
                for Type II status?
              </strong>
            </legend>
            {{#each (array
              (hash code=717170000 label='Yes')
              (hash code=717170001 label='No')
              (hash code=717170002 label='Unsure at this time')) as |radio|
            }}
              <pasForm.radio
                @value={{radio.code}}
                @groupValue={{pasForm.saveableChanges.dcpLanduseactiontype2}}
                @changed={{fn (mut pasForm.saveableChanges.dcpPleaseexplaintypeiienvreview) ""}}
                data-test-radio="dcpLanduseactiontype2"
                data-test-radio-option={{radio.label}}
              >
                {{radio.label}}
              </pasForm.radio>
            {{/each}}

            {{#if (eq pasForm.saveableChanges.dcpLanduseactiontype2 717170000)}}
              <label>
                Indicate which SEQRA or CEQR category each action fulfills
                <small class="help-text display-block">
                  Ex: 617.5(c)(9)
                </small>
                <TextInput
                  @property={{pasForm.saveableChanges.dcpPleaseexplaintypeiienvreview}}
                  @propertyName="dcpPleaseexplaintypeiienvreview"
                  @changesetError={{pasForm.submittableChanges.error.dcpPleaseexplaintypeiienvreview}}
                  @maxlength="200"
                  @showCounter={{true}}
                />
              </label>
            {{/if}}
          </fieldset>

          <fieldset class="medium-margin-bottom">
            <legend>
              <strong>
                Is the proposed Project Area in an&nbsp;
                <a href="https://zola.planning.nyc.gov/" target="_blank" rel="noopener noreferrer">
                  Industrial Business Zone
                  <sup>
                    <FaIcon @icon="external-link-alt" @prefix="fas" @fixedWidth={{true}} />
                  </sup>
                </a>
                ?
              </strong>
            </legend>
            {{#each (array
              (hash code=true label='Yes')
              (hash code=false label='No')) as |radio|
            }}
              <pasForm.radio
                @value={{radio.code}}
                @groupValue={{pasForm.saveableChanges.dcpProjectareaindustrialbusinesszone}}
                @changed={{fn (mut pasForm.saveableChanges.dcpProjectareaindutrialzonename) ""}}
                data-test-radio="dcpProjectareaindustrialbusinesszone"
                data-test-radio-option={{radio.label}}
              >
                {{radio.label}}
              </pasForm.radio>
            {{/each}}
            {{#if pasForm.saveableChanges.dcpProjectareaindustrialbusinesszone}}
              <label>
                Name of Industrial Business Zone
                <TextInput
                  @property={{pasForm.saveableChanges.dcpProjectareaindutrialzonename}}
                  @propertyName="dcpProjectareaindutrialzonename"
                  @changesetError={{pasForm.submittableChanges.error.dcpProjectareaindutrialzonename}}
                  @maxlength="200"
                  @showCounter={{true}}
                />
              </label>
            {{/if}}
          </fieldset>

          <fieldset class="medium-margin-bottom">
            <legend>
              <strong>Is the proposed Project Area within or adjacent to a designated (City or State) <a href="https://zola.planning.nyc.gov/"  target="_blank" rel="noopener noreferrer">Landmark or Historic District<sup><FaIcon @icon="external-link-alt" @prefix="fas" @fixedWidth={{true}} /></sup></a>?</strong>
            </legend>
            {{#each (array
              (hash code=true label='Yes')
              (hash code=false label='No')) as |radio|
            }}
              <pasForm.radio
                @value={{radio.code}}
                @groupValue={{pasForm.saveableChanges.dcpIsprojectarealandmark}}
                @changed={{fn (mut pasForm.saveableChanges.dcpProjectarealandmarkname) ""}}
                data-test-radio="dcpIsprojectarealandmark"
                data-test-radio-option={{radio.label}}
              >
                {{radio.label}}
              </pasForm.radio>
            {{/each}}

            {{#if pasForm.saveableChanges.dcpIsprojectarealandmark}}
              <label>
                Name of Landmark or Historic District
                <TextInput
                  @property={{pasForm.saveableChanges.dcpProjectarealandmarkname}}
                  @propertyName="dcpProjectarealandmarkname"
                  @changesetError={{pasForm.submittableChanges.error.dcpProjectarealandmarkname}}
                  @showCounter={{true}}
                />
              </label>
            {{/if}}
          </fieldset>

          <fieldset class="medium-margin-bottom">
            <legend>
              <strong>Is the proposed Project Area located within the <a href="https://dcp.maps.arcgis.com/apps/View/index.html?appid=90e3a9f927c2471483631a20e8a41d8d"  target="_blank" rel="noopener noreferrer">NYC Coastal Zone<sup><FaIcon @icon="external-link-alt" @prefix="fas" @fixedWidth={{true}} /></sup></a>?</strong>
            </legend>
            {{#each (array
              (hash code=true label='Yes')
              (hash code=false label='No')) as |radio|
            }}
              <pasForm.radio
                @value={{radio.code}}
                @groupValue={{pasForm.saveableChanges.dcpProjectareacoastalzonelocatedin}}
                data-test-radio="dcpProjectareacoastalzonelocatedin"
                data-test-radio-option={{radio.label}}
              >
                {{radio.label}}
              </pasForm.radio>
            {{/each}}
          </fieldset>

          <fieldset class="medium-margin-bottom">
            <legend>
              <strong>Is the Project Area located within the <a href="https://dcp.maps.arcgis.com/apps/webappviewer/index.html?id=1c37d271fba14163bbb520517153d6d5"  target="_blank" rel="noopener noreferrer">1% annual chance floodplain<sup><FaIcon @icon="external-link-alt" @prefix="fas" @fixedWidth={{true}} /></sup></a>?</strong>
            </legend>
            {{#each (array
              (hash code=717170000 label='Yes')
              (hash code=717170001 label='No')
              (hash code=717170002 label='Unsure at this time')) as |radio|
            }}
              <pasForm.radio
                @value={{radio.code}}
                @groupValue={{pasForm.saveableChanges.dcpProjectareaischancefloodplain}}
                data-test-radio="dcpProjectareaischancefloodplain"
                data-test-radio-option={{radio.label}}
              >
                {{radio.label}}
              </pasForm.radio>
            {{/each}}
          </fieldset>

          <fieldset class="medium-margin-bottom">
            <legend>
              <strong>Is a <a href="https://a836-acris.nyc.gov/CP/"  target="_blank" rel="noopener noreferrer">legal instrument<sup><FaIcon @icon="external-link-alt" @prefix="fas" @fixedWidth={{true}} /></sup></a> associated with a previous CPC or CPC Chair action recorded against the project site?</strong>
            </legend>
            {{#each (array
              (hash code=true label='Yes')
              (hash code=false label='No')) as |radio|
            }}
              <pasForm.radio
                @value={{radio.code}}
                @groupValue={{pasForm.saveableChanges.dcpRestrictivedeclaration}}
                @changed={{fn (mut pasForm.saveableChanges.dcpCityregisterfilenumber) null}}
                data-test-radio="dcpRestrictivedeclaration"
                data-test-radio-option={{radio.label}}
              >
                {{radio.label}}
              </pasForm.radio>
            {{/each}}

            {{#if pasForm.saveableChanges.dcpRestrictivedeclaration}}
              <label>
                <strong>City Register file number or other identifier</strong>
                <small class="help-text display-block">
                  Feel free to attach a copy of the legal instrument in the Attachments section.
                </small>
                <TextInput
                  @property={{pasForm.saveableChanges.dcpCityregisterfilenumber}}
                  @propertyName="dcpCityregisterfilenumber"
                  @changesetError={{pasForm.submittableChanges.error.dcpCityregisterfilenumber}}
                  @maxlength="25"
                  @showCounter={{true}}
                />
              </label>
            {{/if}}
          </fieldset>

          <fieldset class="medium-margin-bottom">
            <legend>
              <strong>Will a new legal instrument or modification of a current legal instrument be necessary to approve/implement these actions?</strong>
            </legend>
            {{#each (array
              (hash code=717170001 label='Yes')
              (hash code=717170000 label='No')
              (hash code=717170002 label='Unsure at this time')) as |radio|
            }}
              <pasForm.radio
                @value={{radio.code}}
                @groupValue={{pasForm.saveableChanges.dcpRestrictivedeclarationrequired}}
                data-test-radio="dcpRestrictivedeclarationrequired"
                data-test-radio-option={{radio.label}}
              >
                {{radio.label}}
              </pasForm.radio>
            {{/each}}
          </fieldset>
        </section>

        <section class="form-section">
          <h2 class="section-header">
            <span id="proposed-development-site" class="section-anchor"></span>
            Proposed Development Site
          </h2>

          <p class="text-small">
            <b>Development Site</b> refers to all property to be developed as part of the applicant’s specific proposal which the land use actions would facilitate. Typically, the Development Site and the Project Area will comprise the same property(ies) unless the application is requesting a zoning map amendment covering an area greater than an applicant’s property to be developed or a large-scale special approval involving multiple tax lots. In these cases, the Development Site may be one or several tax lots within a broader Project Area.
          </p>

          <label>
            <strong>In what year do you expect the development to complete?</strong>
            <TextInput
              @property={{pasForm.saveableChanges.dcpEstimatedcompletiondate}}
              @propertyName="dcpEstimatedcompletiondate"
              @changesetError={{pasForm.submittableChanges.error.dcpEstimatedcompletiondate}}
              @maxlength="4"
            />
            {{!-- QUESTION: Should this be a date picker? --}}
          </label>

          <fieldset class="medium-margin-bottom">
            <legend>
              <strong>
                What type of development is proposed?
                <small class="text-weight-normal">(select all that apply)</small>
              </strong>
            </legend>
            <ul class="no-bullet no-margin">
              <li>
                <Input
                  @type="checkbox"
                  @checked={{pasForm.saveableChanges.dcpProposeddevelopmentsitenewconstruction}}
                  id="dcpproposeddevelopmentsitenewconstruction"
                  data-test-checkbox="dcpProposeddevelopmentsitenewconstruction"
                /><label for="dcpproposeddevelopmentsitenewconstruction">Newly constructed buildings</label>
              </li>
              <li>
                <Input
                  @type="checkbox"
                  @checked={{pasForm.saveableChanges.dcpProposeddevelopmentsitedemolition}}
                  id="dcpproposeddevelopmentsitedemolition"
                  data-test-checkbox="dcpProposeddevelopmentsitedemolition"
                /><label for="dcpproposeddevelopmentsitedemolition">Demolition</label>
              </li>
              <li>
                <Input
                  @type="checkbox"
                  @checked={{pasForm.saveableChanges.dcpProposeddevelopmentsiteinfoalteration}}
                  id="dcpproposeddevelopmentsiteinfoalteration"
                  data-test-checkbox="dcpProposeddevelopmentsiteinfoalteration"
                /><label for="dcpproposeddevelopmentsiteinfoalteration">Alteration</label>
              </li>
              <li>
                <Input
                  @type="checkbox"
                  @checked={{pasForm.saveableChanges.dcpProposeddevelopmentsiteinfoaddition}}
                  id="dcpproposeddevelopmentsiteinfoaddition"
                  data-test-checkbox="dcpProposeddevelopmentsiteinfoaddition"
                /><label for="dcpproposeddevelopmentsiteinfoaddition">Addition</label>
              </li>
              <li>
                <Input
                  @type="checkbox"
                  @checked={{pasForm.saveableChanges.dcpProposeddevelopmentsitechnageofuse}}
                  id="dcpproposeddevelopmentsitechnageofuse"
                  data-test-checkbox="dcpProposeddevelopmentsitechnageofuse"
                /><label for="dcpproposeddevelopmentsitechnageofuse">Change of use</label>
              </li>
              <li>
                <Input
                  @type="checkbox"
                  @checked={{pasForm.saveableChanges.dcpProposeddevelopmentsiteenlargement}}
                  id="dcpproposeddevelopmentsiteenlargement"
                  data-test-checkbox="dcpProposeddevelopmentsiteenlargement"
                /><label for="dcpproposeddevelopmentsiteenlargement">Enlargement</label>
              </li>
              <li>
                <Input
                  @type="checkbox"
                  {{on "click" (fn (mut pasForm.saveableChanges.dcpProposeddevelopmentsiteotherexplanation) "")}}
                  @checked={{pasForm.saveableChanges.dcpProposeddevelopmentsiteinfoother}}
                  id="dcpproposeddevelopmentsiteinfoother"
                  data-test-checkbox="dcpProposeddevelopmentsiteinfoother"
                /><label for="dcpproposeddevelopmentsiteinfoother">Other&hellip;</label>
              </li>
            </ul>
            {{#if pasForm.saveableChanges.dcpProposeddevelopmentsiteinfoother}}
              <label>
                Explain:
                <Input
                  @type="text"
                  @value={{pasForm.saveableChanges.dcpProposeddevelopmentsiteotherexplanation}}
                  data-test-input="dcpProposeddevelopmentsiteotherexplanation"
                />
                <ValidationMessage
                  @changesetError={{pasForm.submittableChanges.error.dcpProposeddevelopmentsiteotherexplanation}}
                />
              </label>
            {{/if}}
          </fieldset>

          <fieldset class="medium-margin-bottom">
            <legend>
              <strong>Is the Development Site in an <a href="https://zola.planning.nyc.gov/"  target="_blank" rel="noopener noreferrer">Inclusionary Housing Designated Area/Mandatory Inclusionary Housing Area<sup><FaIcon @icon="external-link-alt" @prefix="fas" @fixedWidth={{true}} /></sup></a>?</strong>
            </legend>

            <p class="text-small">
              Refer to <a href="https://zr.planning.nyc.gov/appendix-f-inclusionary-housing-designated-areas-and-mandatory-inclusionary-housing-areas" target="_blank" rel="noopener noreferrer">Appendix F<sup><FaIcon @icon="external-link-alt" @prefix="fas" @fixedWidth={{true}} /></sup></a> of the Zoning Resolution for full list of all inclusionary housing areas which are areas that incentivize or require affordable housing in certain areas.
            </p>

            {{#each (array
              (hash code=true label='Yes')
              (hash code=false label='No')) as |radio|
            }}
              <pasForm.radio
                @value={{radio.code}}
                @groupValue={{pasForm.saveableChanges.dcpIsinclusionaryhousingdesignatedarea}}
                @changed={{fn (mut pasForm.saveableChanges.dcpInclusionaryhousingdesignatedareaname) ""}}
                data-test-radio="dcpIsinclusionaryhousingdesignatedarea"
                data-test-radio-option={{radio.label}}
              >
                {{radio.label}}
              </pasForm.radio>
            {{/each}}

            {{#if pasForm.saveableChanges.dcpIsinclusionaryhousingdesignatedarea}}
              <label>
                Name of Inclusionary Housing Designated Area/Mandatory Inclusionary Housing Area
                <TextInput
                  @property={{pasForm.saveableChanges.dcpInclusionaryhousingdesignatedareaname}}
                  @propertyName="dcpInclusionaryhousingdesignatedareaname"
                  @changesetError={{pasForm.submittableChanges.error.dcpInclusionaryhousingdesignatedareaname}}
                />
              </label>
            {{/if}}
          </fieldset>

          <fieldset class="medium-margin-bottom">
            <legend>
              <strong>Does the proposed development involve discretionary funding for Affordable Housing Units?</strong>
            </legend>
            {{#each
              (array
                (hash code=717170000 label='Yes')
                (hash code=717170001 label='No')
                (hash code=717170002 label='Unsure at this time')
              )
              as |radio|
            }}
              <pasForm.radio
                @value={{radio.code}}
                @groupValue={{pasForm.saveableChanges.dcpDiscressionaryfundingforffordablehousing}}
                @changed={{fn (mut pasForm.saveableChanges.dcpHousingunittype) ""}}
                data-test-radio="dcpDiscressionaryfundingforffordablehousing"
                data-test-radio-option={{radio.label}}
              >
                {{radio.label}}
              </pasForm.radio>
            {{/each}}

            {{#if (eq pasForm.saveableChanges.dcpDiscressionaryfundingforffordablehousing 717170000)}}
              <fieldset class="medium-margin-bottom">
                <legend>
                  Funding source
                </legend>
                {{#each (array
                    (hash code=717170000 label='City')
                    (hash code=717170001 label='State')
                    (hash code=717170002 label='Federal')
                    (hash code=717170003 label='Other')) as |radio|
                }}
                  <pasForm.radio
                    @value={{radio.code}}
                    @groupValue={{pasForm.saveableChanges.dcpHousingunittype}}
                    data-test-radio="dcpHousingunittype"
                    data-test-radio-option={{radio.label}}
                  >
                    {{radio.label}}
                  </pasForm.radio>
                {{/each}}
              </fieldset>
              <ValidationMessage
                @changesetError={{pasForm.submittableChanges.error.dcpHousingunittype}}
                data-test-validation-message="dcpHousingunittype"
              />
            {{/if}}
          </fieldset>
        </section>

        <section class="form-section">
          <h2 class="section-header">
            <span id="project-description" class="section-anchor"></span>
            Project Description
          </h2>

          <p class="text-small">
            For complex proposals, feel free to upload a draft document (in the Attachments section) explaining this information instead of filling out the form inputs.
          </p>

          <label>
            <strong>Description of the proposed development being facilitated by the land use actions</strong>
            <TextArea
              @property={{pasForm.saveableChanges.dcpProjectdescriptionproposeddevelopment}}
              @propertyName="dcpProjectdescriptionproposeddevelopment"
              @changesetError={{pasForm.submittableChanges.error.dcpProjectdescriptionproposeddevelopment}}
              @maxlength="3000"
            />
          </label>
          <label>
            <strong>Why is this application being proposed? What is the legal, environmental, or land use background?</strong>
            <TextArea
              @property={{pasForm.saveableChanges.dcpProjectdescriptionbackground}}
              @propertyName="dcpProjectdescriptionbackground"
              @changesetError={{pasForm.submittableChanges.error.dcpProjectdescriptionbackground}}
            />
          </label>

          <label>
            <strong>What is the land use rationale for all the proposed actions?</strong>
            <TextArea
              @property={{pasForm.saveableChanges.dcpProjectdescriptionproposedactions}}
              @propertyName="dcpProjectdescriptionproposedactions"
              @changesetError={{pasForm.submittableChanges.error.dcpProjectdescriptionproposedactions}}
            />
          </label>

          <label>
            <strong>Description of existing land uses and structures in the proposed Project Area and Development Site</strong>
            <TextArea
              @property={{pasForm.saveableChanges.dcpProjectdescriptionproposedarea}}
              @propertyName="dcpProjectdescriptionproposedarea"
              @changesetError={{pasForm.submittableChanges.error.dcpProjectdescriptionproposedarea}}
              @maxlength="3000"
            />
          </label>

          <label>
            <strong>Description of land uses and built context in surrounding area (within 1000 ft)</strong>
            <TextArea
              @property={{pasForm.saveableChanges.dcpProjectdescriptionsurroundingarea}}
              @propertyName="dcpProjectdescriptionsurroundingarea"
              @changesetError={{pasForm.submittableChanges.error.dcpProjectdescriptionsurroundingarea}}
              @maxlength="3000"
            />
          </label>

          <label>
            <strong>Description of proposed CEQR scope</strong>
            <small class="help-text display-block">
              Include to expedite CEQR guidance: If proposed actions are not approved, what is the applicant’s as-of-right development (CEQR “no-action”) proposal? What would be expected to occur on non-applicant-controlled sites because of the Proposed Actions (CEQR “with-action”)?
            </small>
            <TextArea
              @property={{pasForm.saveableChanges.dcpProjectattachmentsotherinformation}}
              @propertyName="dcpProjectattachmentsotherinformation"
              @changesetError={{pasForm.submittableChanges.error.dcpProjectattachmentsotherinformation}}
              @maxlength="3000"
            />
          </label>
        </section>

        <section class="form-section">
          <h2 class="section-header">
            <span id="attached-documents" class="section-anchor"></span>
            Attached Documents
          </h2>

          <p>
            Please attach the following required documents. (Additional materials that help to explain the proposed project may also be submitted.)
          </p>

          <div class="grid-x grid-margin-x">
            <div class="cell large-6">
              <h5>Required for all projects:</h5>
              <ul class="text-small">
                <li class="small-margin-bottom">
                  <a href="http://gis.nyc.gov/taxmap/map.htm" target="_blank" rel="noopener noreferrer">Tax Map(s)<sup><FaIcon @icon="external-link-alt" @prefix="fas" @fixedWidth={{true}} /></sup></a> — if project area has more than one tax block submit a separate map for each tax block
                </li>
                <li class="small-margin-bottom">
                  <a href="https://www1.nyc.gov/site/planning/zoning/index- map.page" target="_blank" rel="noopener noreferrer">Official Zoning Map<sup><FaIcon @icon="external-link-alt" @prefix="fas" @fixedWidth={{true}} /></sup></a> — circle the project area
                </li>
                <li class="small-margin-bottom">
                  <a href="https://applicantmaps.planning.nyc.gov/" target="_blank" rel="noopener noreferrer">Land Use Map<sup><FaIcon @icon="external-link-alt" @prefix="fas" @fixedWidth={{true}} /></sup></a>
                </li>
                <li class="small-margin-bottom">
                  Illustrative Representation of Any Proposed Development —  include details as needed to explain the nature of the project and its relationship to the surrounding area (such as heights, square footage, units, etc.). The Lead Planner can provide appropriate guidance for these materials.
                </li>
                <li class="small-margin-bottom">
                  Photographs -
                    <a href="https://www1.nyc.gov/assets/planning/download/pdf/applicants/applicant-portal/project_area_photographs_standards.pdf " target="_blank" rel="noopener noreferrer">
                      Standards
                      <sup>
                        <FaIcon @icon="external-link-alt" @prefix="fas" @fixedWidth={{true}} />
                      </sup>
                    </a> for photographs. 
                    
                    <a href="https://www1.nyc.gov/assets/planning/download/pdf/applicants/applicant-portal/project_area_photographs_sample.pdf" target="_blank" rel="noopener noreferrer">
                      Sample
                      <sup>
                        <FaIcon @icon="external-link-alt" @prefix="fas" @fixedWidth={{true}} />
                      </sup>
                    </a>.

                </li>
                <li class="small-margin-bottom">
                  <a href="https://www1.nyc.gov/assets/planning/download/pdf/applicants/applicant-portal/dcp-signature-form.pdf" target="_blank" rel="noopener noreferrer">Signature Form<sup><FaIcon @icon="external-link-alt" @prefix="fas" @fixedWidth={{true}} /></sup></a>
                </li>
              </ul>

              <h5>
                For <a href="https://streets.planning.nyc.gov/about" target="_blank" rel="noopener noreferrer">City Map changes<sup><FaIcon @icon="external-link-alt" @prefix="fas" @fixedWidth={{true}} /></sup></a>:
              </h5>
              <ul class="text-small">
                <li class="small-margin-bottom">Most recent Borough President’s final Section Map or most recent approved and filed Alteration Map for the project area</li>
                <li class="small-margin-bottom">Site survey — recommended but not required</li>
              </ul>
            </div>
            <div class="cell large-6">
              <h5>For projects in the NYC Coastal Zone: </h5>
              <ul class="text-small">
                <li class="small-margin-bottom">
                  Map of <a href="https://dcp.maps.arcgis.com/apps/View/index.html?app id=90e3a9f927c2471483631a20e8a41d8d" target="_blank" rel="noopener noreferrer">project location within the NYC coastal zone<sup><FaIcon @icon="external-link-alt" @prefix="fas" @fixedWidth={{true}} /></sup></a> including Special Area Designations
                </li>
              </ul>

              <h5>For Staten Island or Bronx projects in South Richmond, Special Hillsides Preservation, or Special Natural Resources Districts: </h5>
              <ul class="text-small">
                <li class="small-margin-bottom">Site Survey — Existing conditions (required if there have been changes to previous submissions)</li>
                <li class="small-margin-bottom">Site Plan — Proposed conditions</li>
                <li class="small-margin-bottom">Zoning Calculations: Tree Calculations</li>
                <li class="small-margin-bottom">Zoning Calculations: Average Percent (%) of Slope (Special Hillsides Preservation and Special Natural Resources Districts)</li>
              </ul>
            </div>
          </div>

          <Packages::Attachments
            @package={{@package}}
            @fileManager={{@package.fileManager}}
            data-test-section="attachments"
          />
        </section>

    </div>
    <div class="cell large-4">

      <StickySidebar
        @navItems={{array
          (hash anchorId="project-info"
            label="Project Information")
          (hash anchorId="applicant-team"
            label="Applicant Team")
          (hash anchorId="project-geography"
            label="Project Geography")
          (hash anchorId="proposed-land-use-actions"
            label="Proposed Land Use Actions")
          (hash anchorId="project-area"
            label="Project Area")
          (hash anchorId="proposed-development-site"
            label="Proposed Development Site")
          (hash anchorId="project-description"
            label="Project Description")
          (hash anchorId="attached-documents"
            label="Attached Documents")
          }}
      >
        <pasForm.saveButton
          @isEnabled={{or @package.isDirty pasForm.isSaveable}}
          @onClick={{this.savePackage}}
          data-test-save-button
        />
        {{!-- Error Handling --}}
        <Packages::PasForm::PasFormError @package={{@package}} />
        <pasForm.submitButton
          @onClick={{this.toggleModal}}
          @isEnabled={{pasForm.isSubmittable}}
          class="secondary"
          data-test-submit-button
        />

      </StickySidebar>
      {{#if this.modalIsOpen}}
        <EmberWormhole @to="reveal-modal-container">
          <RevealModal @toggle={{this.toggleModal}}>
            <h6>Confirm Pre-Applicant Statement submission</h6>
            <p class="header-large medium-margin-top small-margin-bottom">Are you sure?</p>
            <p>Before submitting, ensure that your answers are accurate and complete, and that necessary attachments (including the signature form) have been uploaded. If City Planning does not receive enough accurate information to provide guidance, the lead planner will notify you and request that this form be resubmitted with needed materials, corrections, or clarifications.</p>
            <hr>
            <div class="grid-x">
              <div class="cell large-6 small-padding-right">
                <button
                  type="button"
                  class="button expanded large secondary"
                  disabled={{pasForm.saveChangeset.isRunning}}
                  {{on "click" this.toggleModal}}
                >
                  Continue Editing
                </button>
              </div>
              <div class="cell large-6 small-padding-left">
                <pasForm.submitButton
                  @onClick={{this.submitPackage}}
                  @isEnabled={{pasForm.isSubmittable}}
                  class="no-margin"
                  data-test-confirm-submit-button
                />
              </div>
            </div>
            {{!-- Error Handling --}}
            <Packages::PasForm::PasFormError @package={{@package}}/>
          </RevealModal>
        </EmberWormhole>
      {{/if}}
    </div>

  </div>

</SaveableForm>
