<SaveableForm
  @model={{@package}}
  @validators={{array (hash) (hash)}}
  as |saveableForm|
>
  <div class="grid-x grid-margin-x">
    <div class="cell large-8">

    <section class="form-section">
      <h1 class="header-large">
        Technical Memo
        <small class="text-weight-normal">
          {{if @package.dcpPackageversion (concat '(V' @package.dcpPackageversion ')')}}
        </small>
      </h1>

        <h2 class="no-margin">
          {{@package.project.dcpProjectname}}
          <small class="text-weight-normal">
            {{if @package.project.dcpName (concat '(' @package.project.dcpName ')')}}
          </small>
        </h2>

        <p class="text-large text-dark-gray">
          {{optionset 'bbl' 'boroughs' 'label' @package.project.dcpBorough}} |
          {{optionset 'package' 'statuscode' 'label' @package.statuscode}}
        </p>
      </section>

      {{#if @package.dcpPackagenotes}}
        <saveableForm.Section @title="Package Notes from City Planning Staff">
          {{@package.dcpPackagenotes}}
        </saveableForm.Section>
      {{/if}}

      <Packages::TechnicalMemo::AttachedDocuments
        @form={{saveableForm}}
        @model={{@package}}
      />
    </div>

    <div class="cell large-4 sticky-sidebar">
      <saveableForm.PageNav>
        <saveableForm.SaveButton
          @isEnabled={{or @package.isDirty saveableForm.isSaveable}}
          @onClick={{this.savePackage}}
          data-test-save-button
        />
      </saveableForm.PageNav>
    </div>
  </div>
</SaveableForm>
