{{#let @form as |form|}}
  <Ui::Question
    class="fieldset relative"
    ...attributes
  as |Q|>
    <Q.Legend data-test-related-action-title>
      Related Action
    </Q.Legend>

    <Ui::Question
      class="no-margin-top"
      data-test-action-completed-radio-group
    as |dcpIscompletedactionQ|>
      <dcpIscompletedactionQ.Label>
        Is the action completed?
      </dcpIscompletedactionQ.Label>

      <form.Field
        @attribute="dcpIscompletedaction"
        @type="radio-group"
      as |DcpIscompletedactionRadioGroup|>
        <DcpIscompletedactionRadioGroup
          @options={{optionset 'relatedAction' 'dcpIscompletedaction' 'list'}}
        />
      </form.Field>

    </Ui::Question>

    <Ui::Question
    as |dcpReferenceapplicationnoQ|>
      <dcpReferenceapplicationnoQ.Label>
        Reference/Applicant Number (if applicable)
      </dcpReferenceapplicationnoQ.Label>

      <form.Field
        @attribute="dcpReferenceapplicationno"
        @maxlength="10"
        @showCounter={{true}}
      />
    </Ui::Question>

    <Ui::Question
    as |dcpApplicationdescriptionQ|>
      <dcpApplicationdescriptionQ.Label>
        Description
      </dcpApplicationdescriptionQ.Label>

      <form.Field
        @attribute="dcpApplicationdescription"
        @maxlength="250"
        @showCounter={{true}}
      />
    </Ui::Question>

    <Ui::Question
    as |dcpDispositionorstatusQ|>
      <dcpDispositionorstatusQ.Label>
        Disposition or Status
      </dcpDispositionorstatusQ.Label>

      <form.Field
        @attribute="dcpDispositionorstatus"
        @maxlength="100"
        @showCounter={{true}}
      />
    </Ui::Question>

    <Ui::Question
    as |dcpCalendarnumbercalendarnumberQ|>
      <dcpCalendarnumbercalendarnumberQ.Label>
        Calendar Number
      </dcpCalendarnumbercalendarnumberQ.Label>

      <form.Field
        @attribute="dcpCalendarnumbercalendarnumber"
        @maxlength="100"
        @showCounter={{true}}
      />
    </Ui::Question>

    <Ui::Question
    as |dcpApplicationdateQ|>
      <dcpApplicationdateQ.Label>
        Date
      </dcpApplicationdateQ.Label>

      <EmberFlatpickr
        data-test-dcpapplicationdate
        @allowInput={{false}}
        @date={{if form.data.dcpApplicationdate form.data.dcpApplicationdate null}}
        @onChange={{fn (mut form.data.dcpApplicationdate)}}
        @enableTime={{false}}
        placeholder="Choose a date..."
      />
    </Ui::Question>

    <button
      type="button"
      class="delete-fieldset"
      {{on "click" @removeRelatedAction}}
      data-test-remove-related-action-button
    >
      Remove Related Action
      <FaIcon @icon="times" @prefix="fas" @fixedWidth={{true}} />
    </button>
  </Ui::Question>
{{/let}}
